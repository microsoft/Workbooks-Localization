<?xml version="1.0" encoding="utf-8"?>
<LCX SchemaVersion="6.0" Name="S:\output\loc\WorkItems\GitHub.resjson" PsrId="306" FileType="1" SrcCul="en-US" TgtCul="ko-KR" xmlns="http://schemas.microsoft.com/locstudio/2006/6/lcx">
  <OwnedComments>
    <Cmt Name="Dev" />
    <Cmt Name="LcxAdmin" />
    <Cmt Name="Rccx" />
  </OwnedComments>
  <Item ItemId=";String Table" ItemType="0" PsrId="306" Leaf="false">
    <Disp Icon="Expand" Expand="true" Disp="true" LocTbl="false" />
    <Item ItemId=";Strings" ItemType="0" PsrId="306" Leaf="false">
      <Disp Icon="Str" Disp="true" LocTbl="false" />
      <Item ItemId=";items.HiddenInfoPannel.content.json" ItemType="0" PsrId="306" InstFlg="true" Leaf="true">
        <Str Cat="Text">
          <Val><![CDATA[# How to use this workbook]D;]A;]D;]A;If you're seeing this message this means you're editing your workbook to customize it or debug it. Please navigate to the correct section to get started. Please note this text is shared between both the Azure DevOps and GitHub versions of the template as they share the same features.]D;]A;]D;]A;## Customize the Template]D;]A;]D;]A;Below there are two queries. The first query takes in the itemId and passes it to the Log Analytics query to get the specific item. The second query takes in the operation_Id and will show ALL related telemetry.]D;]A;]D;]A;The general structure of the query is ]D;]A;```]D;]A;// Required parameters]D;]A;// Helper functions to keep code down]D;]A;// Direct queries to get the item information]D;]A;// Union of direct queries and URL creation]D;]A;```]D;]A;]D;]A;### Infomation about Work Item or Issue creation]D;]A;For Azure DevOps there is the ["Define an ad hoc work item template using a hyperlink"]5D;(https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/work-item-template?view=azure-devops&tabs=browser#define-an-ad-hoc-work-item-template-using-a-hyperlink) document which gives some details on how to create a work item with a URL.]D;]A;]D;]A;For GitHub there is the ["About automation for issues and pull requests with query parameters"]5D;(https://docs.github.com/en/free-pro-team@latest/github/managing-your-work-on-github/about-automation-for-issues-and-pull-requests-with-query-parameters) document which explains the details of creating an issue.]D;]A;]D;]A;]D;]A;### Required parameters]D;]A;]D;]A;`timestamp` - Required so we can filter the queries down to the correct 10 minutes window. This is passed in by the UX when you select the workbook. Generates the `starttime` and `endtime` parameters used in the queries]D;]A;`operationid` - Required so we can create the related items query. This is passed in by the UX when you select the workbook.]D;]A;`eventid` - Required so we can create the specific item query. This is passed in by the UX when you select the workbook.]D;]A;`eventlink` - The link that is added to the work item so you can see the details of the operation. This is passed in by the UX when you select the workbook.]D;]A;`httpendpoint` - Required to generate the URL to create the work item. This is passed in by the create wizard.]D;]A;]D;]A;### Helper functions]D;]A;`returnundefined (name: string)` - Takes in a string and returns. <undefined> if it's empty]D;]A;`returnline (key: string, value: string)` - Returns a single formated line to be added to the details of the work item. This will generate a key/value pair where the key is bolded.]D;]A;`urlPrefix (workItemType:string)` - Generates the URL to create the full work item creation URL. Takes in the work item type to create the correct endpoint. For DevOps the workItem type must be a valid work item name "bug", "task", etc.]D;]A;`description (witType:string, itemType:string)` - Utility to identify what type of work item and what type of telemetry type, only used in the query output.]D;]A;`witTitle (witType:string, itemType:string, opName:string)` - This generates the work item or issue title and takes in the folloing: witType to state in the title if it's a Bug, Task, etc., the itemType to help idenitfy if it's a request, dependency, etc., and the operation name to give context about what specific item needs to be investigated]D;]A;`witDescription (bodyOfWit: string, itemType:string)` - This generate the work item or issue body and take in the following: bodyOfWit which is a plaintext string, see the query for examples, itemType, which is used to change a specific field name for AzureDevOps work items see the note.]D;]A;`appendquerystring (fieldToAppend:string)` - Simply appends an ampersand (&) to the front of a querystring parameter.]D;]A;]D;]A;> **Note about Bug Work Item Types** Azure DevOps uses "Repro Steps" for the Bug work item type, so if you change this function your work item details may not show up.]D;]A;]D;]A;> **Note about hyperlinks** Azure DevOps will not allow you to inject a clickable hyperlink in a work item. The best we can do is provide the URL.]D;]A;]D;]A;### Direct queries]D;]A;]D;]A;These have the following format:]D;]A;]D;]A;`<<anyname>>` - An arbitrary name for the union query]D;]A;`<<telemetrytable>>` - requests, traces, etc.]D;]A;`bodyOfWit` - The string you want to be added to the work item or issue.]D;]A;`nameForTitle` - Used to generate the correct title for a specific telemetry type. For example, avalabilityResults may not have an operation_Name defined.]D;]A;`workItemKey` - This is always 1 and is used to automatically generate the correct list of work item types (if you want multiple) for Azure DevOps. See below in the union section.]D;]A;]D;]A;```]D;]A;let <<anyname>> = <<telemetrytable>> | where timestamp between(starttime..endtime) | where itemId == itemIdFromWorkbook]D;]A;| extend bodyOfWit = strcat(returnline("Operation Name", operation_Name), returnline("Timestamp", timestamp), returnline("Duration (ms)", duration), returnline("Country or region", client_CountryOrRegion), returnline("State or province", client_StateOrProvince), returnline("City", client_City), returnline("Link", urlToDetails))]D;]A;| extend nameForTitle = name]D;]A;| extend workItemKey = 1;]D;]A;]D;]A;```]D;]A;### workItemTypes datatable ]D;]A;]D;]A;In order to give you the option to create a Bug for one type of telemetry and a task for another type we generate a data table that has a list of workItemTypes with a hard coded id of 1. We join with the hardcoded key so we can repeat the rows for each work item type and generate the correct URL with the correct parameters. You can see this in the query and it looks like this.]D;]A;]D;]A;```]D;]A;let workItemTypes = datatable ( workItemType: string, workItemKey: long )['Bug', 1, 'Task', 1]5D;;]D;]A;```]D;]A;]D;]A;If you want to add another work item type or only have one you can modify the data table to reflect any built in or custom type.]D;]A;]D;]A;### Union of direct queries]D;]A;]D;]A;After the direct queries are defined we combine them into one unified query to generate the correct table. For Azure DevOps we do one special thing here and that is join the uninoned query with a custom datatable called workItemType. This simply repeat the row so we can create multiple work item types if desired.]D;]A;]D;]A;## Troubleshooting]D;]A;]D;]A;### 404 Page Not Found]D;]A;]D;]A;This indicates that either the organization name is incorrect or the project is incorrect. Check the URL you entered into the wizard and try again.]D;]A;]D;]A;### 403 Unauthorized]D;]A;]D;]A;This means that you do not have access to the organization or the project. Please validate you have the correct URL and if so contact your administrator to get access.]D;]A;]D;]A;### Work Item Data is truncated]D;]A;]D;]A;There are two reasons for this and you only have a few options to correct them.]D;]A;]D;]A;**Data Length** - For most web servers there is a max URL length. If your data is particularly long or if there is a URL length restriction you may not see the end of your data]D;]A;**URL Encoding** - By default we URL encode the values going into the `returnline` function. But if you alter this or if you are doing something custom you should check to see if using url_encode() fixes the issue]]></Val>
          <Tgt Cat="Text" Stat="Loc" Orig="New">
            <Val><![CDATA[# 이 통합 문서를 사용하는 방법]D;]A;]D;]A;이 메시지가 표시된다면 통합 문서를 편집하여 사용자 지정하거나 디버그하고 있는 것입니다. 시작하려면 올바른 섹션으로 이동하세요. 템플릿의 Azure DevOps 버전과 GitHub 버전이 동일한 기능을 공유하므로 이 텍스트는 두 버전 간에 공유됩니다.]D;]A;]D;]A;## 템플릿 사용자 지정]D;]A;]D;]A;아래에 두 가지 쿼리가 있습니다. 첫 번째 쿼리는 itemId를 사용하고 Log Analytics 쿼리에 전달하여 특정 항목을 가져옵니다. 두 번째 쿼리는 operation_Id를 사용하고 관련된 원격 분석을 모두 표시합니다.]D;]A;]D;]A;쿼리의 일반 구조는 다음과 같습니다. ]D;]A;```]D;]A;// 필수 매개 변수]D;]A;// 코드를 유지하기 위한 도우미 함수]D;]A;// 항목 정보를 가져오기 위한 직접 쿼리]D;]A;// 직접 쿼리 및 URL 생성의 합집합]D;]A;```]D;]A;]D;]A;### 작업 항목 또는 이슈 생성에 관한 정보]D;]A;Azure DevOps의 경우 URL을 사용하여 작업 항목을 만드는 방법을 자세히 설명하는 ["Define an ad hoc work item template using a hyperlink"]5D;(https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/work-item-template?view=azure-devops&tabs=browser#define-an-ad-hoc-work-item-template-using-a-hyperlink) 문서가 있습니다.]D;]A;]D;]A;GitHub의 경우 이슈 생성을 자세히 설명하는 ["About automation for issues and pull requests with query parameters"]5D;(https://docs.github.com/en/free-pro-team@latest/github/managing-your-work-on-github/about-automation-for-issues-and-pull-requests-with-query-parameters) 문서가 있습니다.]D;]A;]D;]A;]D;]A;### 필수 매개 변수]D;]A;]D;]A;`timestamp` - 쿼리를 정확한 10분 기간으로 필터링하려면 필요합니다. 이는 통합 문서를 선택할 때 UX를 통해 전달됩니다. 쿼리에서 사용되는 `starttime` 및 `endtime` 매개 변수를 생성합니다.]D;]A;`operationid` - 관련 항목 쿼리를 만들려면 필요합니다. 이는 통합 문서를 선택할 때 UX를 통해 전달됩니다.]D;]A;`eventid` - 특정 항목 쿼리를 만들려면 필요합니다. 이는 통합 문서를 선택할 때 UX를 통해 전달됩니다.]D;]A;`eventlink` - 작업 세부 정보를 확인할 수 있도록 작업 항목에 추가되는 링크입니다. 이는 통합 문서를 선택할 때 UX를 통해 전달됩니다.]D;]A;`httpendpoint` - URL을 생성하여 작업 항목을 만들려면 필요합니다. 이는 만들기 마법사를 통해 전달됩니다.]D;]A;]D;]A;### 도우미 함수]D;]A;`returnundefined (name: string)` - 문자열을 사용하고 비어 있는 경우 <undefined>를 반환합니다.]D;]A;`returnline (key: string, value: string)` - 작업 항목 세부 정보에 추가되는 단일 서식 있는 줄을 반환합니다. 이는 키가 굵게 표시된 키/값 쌍을 생성합니다.]D;]A;`urlPrefix (workItemType:string)` - URL을 생성하여 전체 작업 항목 생성 URL을 만듭니다. 작업 항목 형식을 사용하여 올바른 엔드포인트를 만듭니다. DevOps의 경우 workItem 형식은 유효한 작업 항목 이름인 "버그", "작업" 등이어야 합니다.]D;]A;`description (witType:string, itemType:string)` - 쿼리 출력에만 사용되는 작업 항목의 형식 및 원격 분석 유형의 형식을 식별하기 위한 유틸리티입니다.]D;]A;`witTitle (witType:string, itemType:string, opName:string)` - 작업 항목 또는 이슈 제목을 생성하고 다음을 사용합니다. 버그, 작업 등인 경우 제목에 명시하기 위한 witType, 요청, 종속성 등인 경우 식별을 돕기 위한 itemType, 조사해야 하는 특정 항목에 관한 컨텍스트를 제공하기 위한 작업 이름]D;]A;`witDescription (bodyOfWit: string, itemType:string)` - 작업 항목 또는 이슈 본문을 생성하고 다음을 사용합니다. 일반 텍스트 문자열인 bodyOfWit(예제에 관한 쿼리 참조), AzureDevOps 작업 항목의 특정 필드 이름을 변경하는 데 사용되는 itemType(참고 사항 참조).]D;]A;`appendquerystring (fieldToAppend:string)` - querystring 매개 변수 앞에 앰퍼샌드(&)를 추가하면 됩니다.]D;]A;]D;]A;> **버그 작업 항목 형식 관련 참고 사항** Azure DevOps는 버그 작업 항목 형식에 "재현 단계"를 사용하므로 이 함수를 변경하면 작업 항목 세부 정보가 표시되지 않을 수 있습니다.]D;]A;]D;]A;> **하이퍼링크 관련 참고 사항** Azure DevOps에서는 클릭 가능한 하이퍼링크를 작업 항목에 주입할 수 있습니다. URL을 제공하는 것이 가장 좋습니다.]D;]A;]D;]A;### 직접 쿼리]D;]A;]D;]A;직접 쿼리의 형식은 다음과 같습니다.]D;]A;]D;]A;`<<anyname>>` - 통합 쿼리의 임의 이름]D;]A;`<<telemetrytable>>` - 요청, 추적 등]D;]A;`bodyOfWit` - 작업 항목 또는 이슈에 추가할 문자열]D;]A;`nameForTitle` - 특정 원격 분석 유형의 올바른 제목을 생성하는 데 사용됩니다. 예를 들어 avalabilityResults에는 operation_Name이 정의되어 있지 않을 수 있습니다.]D;]A;`workItemKey` - 항상 1이며 Azure DevOps에 관한 작업 항목 형식(여러 개가 필요한 경우)의 올바른 목록을 자동으로 생성하는 데 사용됩니다. 통합 섹션에서 다음을 참조하세요.]D;]A;]D;]A;```]D;]A;let <<anyname>> = <<telemetrytable>> | where timestamp between(starttime..endtime) | where itemId == itemIdFromWorkbook]D;]A;| extend bodyOfWit = strcat(returnline("Operation Name", operation_Name), returnline("Timestamp", timestamp), returnline("Duration (ms)", duration), returnline("Country or region", client_CountryOrRegion), returnline("State or province", client_StateOrProvince), returnline("City", client_City), returnline("Link", urlToDetails))]D;]A;| extend nameForTitle = name]D;]A;| extend workItemKey = 1;]D;]A;]D;]A;```]D;]A;### workItemTypes 데이터 테이블 ]D;]A;]D;]A;원격 분석의 한 형식으로 버그를 만들고 또 다른 형식으로 작업을 만드는 옵션을 제공하기 위해 하드코딩된 ID가 1인 workItemTypes 목록을 포함하는 데이터 테이블을 생성합니다. 하드코딩된 키와 조인하므로 각 작업 항목 형식의 행을 반복하고 올바른 매개 변수를 사용하여 올바른 URL을 생성할 수 있습니다. 쿼리에서 다음과 같이 표시되는 해당 항목을 확인할 수 있습니다.]D;]A;]D;]A;```]D;]A;let workItemTypes = datatable ( workItemType: string, workItemKey: long )['Bug', 1, 'Task', 1]5D;;]D;]A;```]D;]A;]D;]A;또 다른 작업 항목 형식을 추가하거나 작업 항목을 하나만 포함하려는 경우에는 기본 제공 또는 사용자 지정 형식을 반영하도록 데이터 테이블을 수정할 수 있습니다.]D;]A;]D;]A;### 직접 쿼리의 합집합]D;]A;]D;]A;직접 쿼리를 정의한 후 하나의 통합 쿼리로 결합하여 올바른 테이블을 생성합니다. Azure DevOps의 경우 여기서 한 가지 특수 작업을 수행하며 해당 작업은 workItemType이라는 사용자 지정 데이터 테이블과 결합 쿼리를 조인하는 것입니다. 이는 단순히 행을 반복하는 것이므로 필요한 경우 여러 작업 항목 형식을 만들 수 있습니다.]D;]A;]D;]A;## 문제 해결]D;]A;]D;]A;### 404 페이지를 찾을 수 없음]D;]A;]D;]A;조직 이름이 잘못되거나 프로젝트가 잘못되었음을 나타냅니다. 마법사에 입력한 URL을 확인하고 다시 시도합니다.]D;]A;]D;]A;### 403 권한 없음]D;]A;]D;]A;조직 또는 프로젝트에 대한 액세스 권한이 없음을 의미합니다. 올바른 URL을 사용하는지 유효성을 검사하고 올바른 URL을 사용하는 경우에는 관리자에게 문의하여 액세스 권한을 얻습니다.]D;]A;]D;]A;### 작업 항목 데이터가 잘림]D;]A;]D;]A;이 문제에는 두 가지 이유가 있으며 해당 이유를 해결할 수 있는 옵션은 몇 가지뿐입니다.]D;]A;]D;]A;**데이터 길이** - 대부분 웹 서버에는 최대 URL 길이가 있습니다. 데이터가 너무 길거나 URL 길이 제한이 있는 경우에는 데이터의 끝이 표시되지 않을 수 있습니다.]D;]A;**URL 인코딩** - 기본적으로 `returnline` 함수로 이동하는 값을 URL로 인코딩합니다. 그러나 이를 변경하거나 사용자 지정 작업을 수행하는 경우에는 url_encode() 사용으로 이슈가 해결되는지 확인해야 합니다.]]></Val>
          </Tgt>
        </Str>
        <Disp Icon="Str" />
      </Item>
      <Item ItemId=";items.queryevent.content.gridSettings.formatters.3.formatOptions.linkLabel" ItemType="0" PsrId="306" Leaf="true">
        <Str Cat="Text">
          <Val><![CDATA[Click here to create work item]]></Val>
          <Tgt Cat="Text" Stat="Loc" Orig="New">
            <Val><![CDATA[작업 항목을 만들려면 여기를 클릭]]></Val>
          </Tgt>
        </Str>
        <Disp Icon="Str" />
      </Item>
      <Item ItemId=";items.queryrelatedEvents.content.gridSettings.formatters.3.formatOptions.linkLabel" ItemType="0" PsrId="306" Leaf="true">
        <Str Cat="Text">
          <Val><![CDATA[Click here to create work item]]></Val>
          <Tgt Cat="Text" Stat="Loc" Orig="New">
            <Val><![CDATA[작업 항목을 만들려면 여기를 클릭]]></Val>
          </Tgt>
        </Str>
        <Disp Icon="Str" />
      </Item>
      <Item ItemId=";items.textdescription.content.json" ItemType="0" PsrId="306" Leaf="true">
        <Str Cat="Text">
          <Val><![CDATA[# Create an GitHub Work Item]D;]A;---]D;]A;]D;]A;Using the table generated by the analytics query below we can create many types of work items. If you want to customize this view, go to the Work Items menu and select the workbook that was created when you first set up the work item configuration.]]></Val>
          <Tgt Cat="Text" Stat="Loc" Orig="New">
            <Val><![CDATA[# GitHub 작업 항목 만들기]D;]A;---]D;]A;]D;]A;아래 분석 쿼리에서 생성된 테이블을 사용하여 다양한 형식의 작업 항목을 만들 수 있습니다. 이 뷰를 사용자 지정하려면 작업 항목 메뉴로 이동하고 작업 항목 구성을 처음 설정할 때 생성된 통합 문서를 선택합니다.]]></Val>
          </Tgt>
        </Str>
        <Disp Icon="Str" />
      </Item>
      <Item ItemId=";items.texteventTitle.content.json" ItemType="0" PsrId="306" Leaf="true">
        <Str Cat="Text">
          <Val><![CDATA[# Create Work Item for specific event]]></Val>
          <Tgt Cat="Text" Stat="Loc" Orig="New">
            <Val><![CDATA[# 특정 이벤트의 작업 항목 만들기]]></Val>
          </Tgt>
        </Str>
        <Disp Icon="Str" />
      </Item>
      <Item ItemId=";items.textrelatedEventsTitle.content.json" ItemType="0" PsrId="306" Leaf="true">
        <Str Cat="Text">
          <Val><![CDATA[# Create work items related to this event]]></Val>
          <Tgt Cat="Text" Stat="Loc" Orig="New">
            <Val><![CDATA[#이 이벤트에 관련된 작업 항목 만들기]]></Val>
          </Tgt>
        </Str>
        <Disp Icon="Str" />
      </Item>
      <Item ItemId=";settings.name" ItemType="0" PsrId="306" Leaf="true">
        <Str Cat="Text">
          <Val><![CDATA[GitHub]]></Val>
          <Tgt Cat="Text" Stat="Loc" Orig="New">
            <Val><![CDATA[GitHub]]></Val>
          </Tgt>
        </Str>
        <Disp Icon="Str" />
      </Item>
    </Item>
  </Item>
</LCX>